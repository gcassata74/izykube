<div class="content">
  <p-toolbar>
    <div class="p-toolbar-group-right">
      <button pButton label="Add" icon="pi pi-plus" (click)="addCluster()" styleClass="p-button-success"></button>
    </div>
  </p-toolbar>
</div>
<p-card class="ml-2 mr-2" header="Clusters" i18n-header="@@clusters">
<p-table [value]="clusters" [columns]="cols">
  <ng-template pTemplate="header" let-columns>
    <tr>
      <th *ngFor="let col of columns">
        {{col.header}}
      </th>
      <th i18n>Actions</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rowData let-columns="columns">
    <tr [pContextMenuRow]="items" (click)="onContextMenu($event, rowData.id)" [pEditableRow]="items">
      <td *ngFor="let col of columns">
        {{rowData[col.field]}}
      </td>
      <!--td>
        <span><i class="pi pi-pencil btn-icon" (click)="editDiagram(rowData.id)"></i></span>
        <span class="ml-2"><i class="pi pi-ellipsis-v btn-icon" #rowContextMenu style="cursor: pointer;"></i></span>
        <p-contextMenu [model]="items" [target]="rowContextMenu" appendTo="body" triggerEvent="click"></p-contextMenu>
      </td-->
      <td>
        <span><i class="pi pi-pencil btn-icon" (click)="editDiagram(rowData.id)"></i></span>
        <span class="ml-2"><i class="pi pi-ellipsis-v btn-icon" #rowContextMenu style="cursor: pointer;" (click)="updateContextMenuItems($event,rowData.id)"></i></span>
        <p-contextMenu #cm  [model]="items" [target]="rowContextMenu" appendTo="body"></p-contextMenu>
      </td>
    </tr>
  </ng-template>
</p-table>
</p-card>
