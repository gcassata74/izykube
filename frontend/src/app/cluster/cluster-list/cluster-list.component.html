<div class="content">
  <p-toolbar>
    <div class="p-toolbar-group-right">
      <button pButton label="Add" icon="pi pi-plus" (click)="addCluster()" class="izy-button-success"></button>
    </div>
  </p-toolbar>
</div>
<p-card class="izy-card" header="Clusters" i18n-header="@@clusters">
  <p-table [value]="clusters" [columns]="cols" styleClass="izy-table">
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th *ngFor="let col of columns">
          {{col.header}}
        </th>
        <th i18n>Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr [pContextMenuRow]="items" (click)="onContextMenu($event, rowData.id)" [pEditableRow]="items">
        <td *ngFor="let col of columns">
          {{rowData[col.field]}}
        </td>
        <td class="action-column">
          <button class="izy-button-icon" (click)="editDiagram(rowData.id)">
            <i class="pi pi-pencil"></i>
          </button>
          <button class="izy-button-icon" #rowContextMenu (click)="updateContextMenuItems($event,rowData.id)">
            <i class="pi pi-ellipsis-v"></i>
          </button>
          <p-contextMenu #cm [model]="items" [target]="rowContextMenu" appendTo="body"></p-contextMenu>
        </td>
      </tr>
    </ng-template>
  </p-table>
</p-card>